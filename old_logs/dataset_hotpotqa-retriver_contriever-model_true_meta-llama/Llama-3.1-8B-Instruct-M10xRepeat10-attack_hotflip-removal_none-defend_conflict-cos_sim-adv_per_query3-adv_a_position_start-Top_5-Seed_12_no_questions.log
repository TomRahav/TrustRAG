2025-05-14 10:52:06 | INFO     | __main__:main:130 | Experiment Name -- dataset_hotpotqa-retriver_contriever-model_true_meta-llama/Llama-3.1-8B-Instruct-M10xRepeat10-attack_hotflip-removal_none-defend_conflict-cos_sim-adv_per_query3-adv_a_position_start-Top_5-Seed_12_no_questions
2025-05-14 10:52:07 | INFO     | src.utils:load_cached_data:42 | Cache file data_cache/hotpotqa_test.pkl exists. Loading data...
2025-05-14 10:52:13 | INFO     | src.utils:load_cached_data:42 | Cache file data_cache/hotpotqa_answers.pkl exists. Loading data...
2025-05-14 10:52:13 | INFO     | __main__:main:168 | Please evaluate on BEIR first -- contriever on hotpotqa
2025-05-14 10:52:13 | INFO     | __main__:main:172 | Now try to get beir eval results from results/beir_results/...
2025-05-14 10:52:13 | INFO     | __main__:main:184 | Automatically get beir_resutls from results/beir_results/hotpotqa-contriever-cos.json.
2025-05-14 10:52:14 | INFO     | __main__:main:190 | Attack method: hotflip
2025-05-14 10:52:14 | INFO     | __main__:main:192 | load retrieval models
2025-05-14 10:52:14 | INFO     | src.utils:__init__:247 | Starting Processing iterations: 0/10
2025-05-14 10:52:14 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 10:52:14 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 10:53:15 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [60.6s elapsed, 0.0 it/s]
2025-05-14 10:54:12 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [117.3s elapsed, 0.0 it/s]
2025-05-14 10:55:07 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [172.4s elapsed, 0.0 it/s]
2025-05-14 10:56:04 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [229.6s elapsed, 0.0 it/s]
2025-05-14 10:57:02 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [287.8s elapsed, 0.0 it/s]
2025-05-14 10:57:59 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [344.4s elapsed, 0.0 it/s]
2025-05-14 10:58:56 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [401.5s elapsed, 0.0 it/s]
2025-05-14 10:59:52 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [457.4s elapsed, 0.0 it/s]
2025-05-14 11:00:49 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [514.1s elapsed, 0.0 it/s]
2025-05-14 11:01:46 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [571.6s elapsed, 0.0 it/s]
2025-05-14 11:01:46 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 11:01:46 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.1s elapsed, 157.0 it/s]
2025-05-14 11:01:46 | INFO     | src.utils:update:256 | Processing iterations: 1/10 [571.7s elapsed, 0.0 it/s]
2025-05-14 11:01:46 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 11:01:46 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 11:02:43 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [56.4s elapsed, 0.0 it/s]
2025-05-14 11:03:39 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [112.7s elapsed, 0.0 it/s]
2025-05-14 11:04:37 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [170.6s elapsed, 0.0 it/s]
2025-05-14 11:05:32 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [225.5s elapsed, 0.0 it/s]
2025-05-14 11:06:28 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [281.6s elapsed, 0.0 it/s]
2025-05-14 11:07:23 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [337.3s elapsed, 0.0 it/s]
2025-05-14 11:08:19 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [393.0s elapsed, 0.0 it/s]
2025-05-14 11:09:15 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [448.6s elapsed, 0.0 it/s]
2025-05-14 11:10:10 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [504.1s elapsed, 0.0 it/s]
2025-05-14 11:11:06 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [559.9s elapsed, 0.0 it/s]
2025-05-14 11:11:06 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 11:11:06 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.1s elapsed, 132.9 it/s]
2025-05-14 11:11:06 | INFO     | src.utils:update:256 | Processing iterations: 2/10 [1131.7s elapsed, 0.0 it/s]
2025-05-14 11:11:06 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 11:11:06 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 11:12:02 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [55.9s elapsed, 0.0 it/s]
2025-05-14 11:12:57 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [110.9s elapsed, 0.0 it/s]
2025-05-14 11:13:52 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [165.9s elapsed, 0.0 it/s]
2025-05-14 11:14:47 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [221.2s elapsed, 0.0 it/s]
2025-05-14 11:15:43 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [276.8s elapsed, 0.0 it/s]
2025-05-14 11:16:42 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [336.1s elapsed, 0.0 it/s]
2025-05-14 11:17:39 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [393.3s elapsed, 0.0 it/s]
2025-05-14 11:18:37 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [450.6s elapsed, 0.0 it/s]
2025-05-14 11:19:34 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [507.6s elapsed, 0.0 it/s]
2025-05-14 11:20:31 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [564.6s elapsed, 0.0 it/s]
2025-05-14 11:20:31 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 11:20:31 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.1s elapsed, 159.2 it/s]
2025-05-14 11:20:31 | INFO     | src.utils:update:256 | Processing iterations: 3/10 [1696.4s elapsed, 0.0 it/s]
2025-05-14 11:20:31 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 11:20:31 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 11:21:27 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [56.3s elapsed, 0.0 it/s]
2025-05-14 11:22:23 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [112.5s elapsed, 0.0 it/s]
2025-05-14 11:23:20 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [168.8s elapsed, 0.0 it/s]
2025-05-14 11:24:16 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [225.2s elapsed, 0.0 it/s]
2025-05-14 11:25:12 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [281.6s elapsed, 0.0 it/s]
2025-05-14 11:26:09 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [338.7s elapsed, 0.0 it/s]
2025-05-14 11:27:06 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [395.6s elapsed, 0.0 it/s]
2025-05-14 11:28:02 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [451.2s elapsed, 0.0 it/s]
2025-05-14 11:29:03 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [512.0s elapsed, 0.0 it/s]
2025-05-14 11:29:58 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [567.0s elapsed, 0.0 it/s]
2025-05-14 11:29:58 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 11:29:58 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.1s elapsed, 129.1 it/s]
2025-05-14 11:29:58 | INFO     | src.utils:update:256 | Processing iterations: 4/10 [2263.5s elapsed, 0.0 it/s]
2025-05-14 11:29:58 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 11:29:58 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 11:30:56 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [57.8s elapsed, 0.0 it/s]
2025-05-14 11:31:52 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [113.7s elapsed, 0.0 it/s]
2025-05-14 11:32:47 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [169.2s elapsed, 0.0 it/s]
2025-05-14 11:33:43 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [225.3s elapsed, 0.0 it/s]
2025-05-14 11:34:39 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [281.0s elapsed, 0.0 it/s]
2025-05-14 11:35:37 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [339.0s elapsed, 0.0 it/s]
2025-05-14 11:36:32 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [394.0s elapsed, 0.0 it/s]
2025-05-14 11:37:27 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [448.7s elapsed, 0.0 it/s]
2025-05-14 11:38:22 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [503.8s elapsed, 0.0 it/s]
2025-05-14 11:39:17 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [558.9s elapsed, 0.0 it/s]
2025-05-14 11:39:17 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 11:39:17 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.1s elapsed, 163.6 it/s]
2025-05-14 11:39:17 | INFO     | src.utils:update:256 | Processing iterations: 5/10 [2822.4s elapsed, 0.0 it/s]
2025-05-14 11:39:17 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 11:39:17 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 11:40:15 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [57.8s elapsed, 0.0 it/s]
2025-05-14 11:41:11 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [113.7s elapsed, 0.0 it/s]
2025-05-14 11:42:07 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [170.0s elapsed, 0.0 it/s]
2025-05-14 11:43:03 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [225.9s elapsed, 0.0 it/s]
2025-05-14 11:43:59 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [282.3s elapsed, 0.0 it/s]
2025-05-14 11:44:55 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [338.5s elapsed, 0.0 it/s]
2025-05-14 11:45:51 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [394.3s elapsed, 0.0 it/s]
2025-05-14 11:46:48 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [451.2s elapsed, 0.0 it/s]
2025-05-14 11:47:46 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [509.3s elapsed, 0.0 it/s]
2025-05-14 11:48:43 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [566.0s elapsed, 0.0 it/s]
2025-05-14 11:48:43 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 11:48:43 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.1s elapsed, 127.7 it/s]
2025-05-14 11:48:43 | INFO     | src.utils:update:256 | Processing iterations: 6/10 [3388.5s elapsed, 0.0 it/s]
2025-05-14 11:48:43 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 11:48:43 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 11:49:40 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [56.9s elapsed, 0.0 it/s]
2025-05-14 11:50:35 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [112.5s elapsed, 0.0 it/s]
2025-05-14 11:51:34 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [171.3s elapsed, 0.0 it/s]
2025-05-14 11:52:31 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [227.9s elapsed, 0.0 it/s]
2025-05-14 11:53:27 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [284.3s elapsed, 0.0 it/s]
2025-05-14 11:54:23 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [340.5s elapsed, 0.0 it/s]
2025-05-14 11:55:22 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [398.7s elapsed, 0.0 it/s]
2025-05-14 11:56:17 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [453.8s elapsed, 0.0 it/s]
2025-05-14 11:57:12 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [509.1s elapsed, 0.0 it/s]
2025-05-14 11:58:07 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [564.2s elapsed, 0.0 it/s]
2025-05-14 11:58:07 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 11:58:07 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.1s elapsed, 158.2 it/s]
2025-05-14 11:58:07 | INFO     | src.utils:update:256 | Processing iterations: 7/10 [3952.7s elapsed, 0.0 it/s]
2025-05-14 11:58:07 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 11:58:07 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 11:59:02 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [55.3s elapsed, 0.0 it/s]
2025-05-14 12:00:03 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [115.6s elapsed, 0.0 it/s]
2025-05-14 12:01:00 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [172.6s elapsed, 0.0 it/s]
2025-05-14 12:01:56 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [228.5s elapsed, 0.0 it/s]
2025-05-14 12:02:52 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [284.8s elapsed, 0.0 it/s]
2025-05-14 12:03:48 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [340.6s elapsed, 0.0 it/s]
2025-05-14 12:04:44 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [396.5s elapsed, 0.0 it/s]
2025-05-14 12:05:40 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [452.5s elapsed, 0.0 it/s]
2025-05-14 12:06:36 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [508.8s elapsed, 0.0 it/s]
2025-05-14 12:07:32 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [564.8s elapsed, 0.0 it/s]
2025-05-14 12:07:32 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 12:07:32 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.1s elapsed, 160.7 it/s]
2025-05-14 12:07:32 | INFO     | src.utils:update:256 | Processing iterations: 8/10 [4517.7s elapsed, 0.0 it/s]
2025-05-14 12:07:32 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 12:07:32 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 12:08:28 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [55.8s elapsed, 0.0 it/s]
2025-05-14 12:09:24 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [111.6s elapsed, 0.0 it/s]
2025-05-14 12:10:20 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [168.0s elapsed, 0.0 it/s]
2025-05-14 12:11:16 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [224.0s elapsed, 0.0 it/s]
2025-05-14 12:12:12 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [280.0s elapsed, 0.0 it/s]
2025-05-14 12:13:08 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [336.2s elapsed, 0.0 it/s]
2025-05-14 12:14:07 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [394.5s elapsed, 0.0 it/s]
2025-05-14 12:15:04 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [451.4s elapsed, 0.0 it/s]
2025-05-14 12:16:00 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [508.0s elapsed, 0.0 it/s]
2025-05-14 12:16:57 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [564.4s elapsed, 0.0 it/s]
2025-05-14 12:16:57 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 12:16:57 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.1s elapsed, 162.5 it/s]
2025-05-14 12:16:57 | INFO     | src.utils:update:256 | Processing iterations: 9/10 [5082.2s elapsed, 0.0 it/s]
2025-05-14 12:16:57 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 12:16:57 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 12:17:54 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [57.0s elapsed, 0.0 it/s]
2025-05-14 12:18:51 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [114.2s elapsed, 0.0 it/s]
2025-05-14 12:19:48 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [171.6s elapsed, 0.0 it/s]
2025-05-14 12:20:49 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [232.3s elapsed, 0.0 it/s]
2025-05-14 12:21:48 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [291.5s elapsed, 0.0 it/s]
2025-05-14 12:22:45 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [348.7s elapsed, 0.0 it/s]
2025-05-14 12:23:45 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [408.5s elapsed, 0.0 it/s]
2025-05-14 12:24:43 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [466.2s elapsed, 0.0 it/s]
2025-05-14 12:25:43 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [526.6s elapsed, 0.0 it/s]
2025-05-14 12:26:42 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [584.9s elapsed, 0.0 it/s]
2025-05-14 12:26:42 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 12:26:42 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.1s elapsed, 161.3 it/s]
2025-05-14 12:26:42 | INFO     | src.utils:update:256 | Processing iterations: 10/10 [5667.2s elapsed, 0.0 it/s]
2025-05-14 12:26:42 | INFO     | __main__:main:382 | total_topk_num: 500
2025-05-14 12:26:42 | INFO     | __main__:main:383 | total_adv_num: 300
2025-05-14 12:26:42 | INFO     | __main__:main:391 | Success injection rate in top 5 contents: 0.60%
2025-05-14 12:26:42 | INFO     | __main__:main:404 | Using meta-llama/Llama-3.1-8B-Instruct as the LLM model
2025-05-14 12:27:36 | INFO     | __main__:timed:49 | [llm_inference_and_defense] took 45.71 seconds
2025-05-14 12:27:36 | INFO     | __main__:main:485 | Correct Answer Percentage: 64.00%
2025-05-14 12:27:36 | INFO     | __main__:main:486 | Incorrect Answer Percentage: 30.00%
2025-05-14 12:27:36 | INFO     | __main__:main:488 | Total run time for inference, removal and defense: 45.71
