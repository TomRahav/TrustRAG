2025-05-14 12:23:17 | INFO     | __main__:main:130 | Experiment Name -- dataset_nq-retriver_contriever-model_true_meta-llama/Llama-3.1-8B-Instruct-M10xRepeat10-attack_hotflip-removal_none-defend_conflict-cos_sim-adv_per_query3-adv_a_position_end-Top_5-Seed_12_no_questions
2025-05-14 12:23:19 | INFO     | src.utils:load_cached_data:42 | Cache file data_cache/nq_test.pkl exists. Loading data...
2025-05-14 12:23:26 | INFO     | src.utils:load_cached_data:42 | Cache file data_cache/nq_answers.pkl exists. Loading data...
2025-05-14 12:23:26 | INFO     | __main__:main:168 | Please evaluate on BEIR first -- contriever on nq
2025-05-14 12:23:26 | INFO     | __main__:main:172 | Now try to get beir eval results from results/beir_results/...
2025-05-14 12:23:26 | INFO     | __main__:main:184 | Automatically get beir_resutls from results/beir_results/nq-contriever-cos.json.
2025-05-14 12:23:26 | INFO     | __main__:main:190 | Attack method: hotflip
2025-05-14 12:23:26 | INFO     | __main__:main:192 | load retrieval models
2025-05-14 12:23:27 | INFO     | src.utils:__init__:247 | Starting Processing iterations: 0/10
2025-05-14 12:23:27 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 12:23:27 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 12:24:08 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [40.8s elapsed, 0.0 it/s]
2025-05-14 12:24:49 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [81.4s elapsed, 0.0 it/s]
2025-05-14 12:25:30 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [122.5s elapsed, 0.0 it/s]
2025-05-14 12:26:11 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [163.6s elapsed, 0.0 it/s]
2025-05-14 12:26:52 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [204.6s elapsed, 0.0 it/s]
2025-05-14 12:27:33 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [245.6s elapsed, 0.0 it/s]
2025-05-14 12:28:14 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [286.6s elapsed, 0.0 it/s]
2025-05-14 12:28:55 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [327.6s elapsed, 0.0 it/s]
2025-05-14 12:29:36 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [368.5s elapsed, 0.0 it/s]
2025-05-14 12:30:17 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [409.5s elapsed, 0.0 it/s]
2025-05-14 12:30:17 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 12:30:17 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.0s elapsed, 213.6 it/s]
2025-05-14 12:30:17 | INFO     | src.utils:update:256 | Processing iterations: 1/10 [409.6s elapsed, 0.0 it/s]
2025-05-14 12:30:17 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 12:30:17 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 12:30:58 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [40.9s elapsed, 0.0 it/s]
2025-05-14 12:31:39 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [81.9s elapsed, 0.0 it/s]
2025-05-14 12:32:20 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [122.8s elapsed, 0.0 it/s]
2025-05-14 12:33:01 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [163.8s elapsed, 0.0 it/s]
2025-05-14 12:33:42 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [204.7s elapsed, 0.0 it/s]
2025-05-14 12:34:23 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [245.7s elapsed, 0.0 it/s]
2025-05-14 12:35:04 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [286.6s elapsed, 0.0 it/s]
2025-05-14 12:35:45 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [327.6s elapsed, 0.0 it/s]
2025-05-14 12:36:25 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [368.5s elapsed, 0.0 it/s]
2025-05-14 12:37:06 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [409.5s elapsed, 0.0 it/s]
2025-05-14 12:37:06 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 12:37:07 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.0s elapsed, 226.7 it/s]
2025-05-14 12:37:07 | INFO     | src.utils:update:256 | Processing iterations: 2/10 [819.1s elapsed, 0.0 it/s]
2025-05-14 12:37:07 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 12:37:07 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 12:37:47 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [40.9s elapsed, 0.0 it/s]
2025-05-14 12:38:28 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [81.8s elapsed, 0.0 it/s]
2025-05-14 12:39:09 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [122.7s elapsed, 0.0 it/s]
2025-05-14 12:39:50 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [163.8s elapsed, 0.0 it/s]
2025-05-14 12:40:31 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [204.8s elapsed, 0.0 it/s]
2025-05-14 12:41:12 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [245.7s elapsed, 0.0 it/s]
2025-05-14 12:41:53 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [286.6s elapsed, 0.0 it/s]
2025-05-14 12:42:34 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [327.6s elapsed, 0.0 it/s]
2025-05-14 12:43:15 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [368.5s elapsed, 0.0 it/s]
2025-05-14 12:43:56 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [409.4s elapsed, 0.0 it/s]
2025-05-14 12:43:56 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 12:43:56 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.0s elapsed, 221.8 it/s]
2025-05-14 12:43:56 | INFO     | src.utils:update:256 | Processing iterations: 3/10 [1228.6s elapsed, 0.0 it/s]
2025-05-14 12:43:56 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 12:43:56 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 12:44:37 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [41.1s elapsed, 0.0 it/s]
2025-05-14 12:45:18 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [82.2s elapsed, 0.0 it/s]
2025-05-14 12:45:59 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [123.1s elapsed, 0.0 it/s]
2025-05-14 12:46:40 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [164.2s elapsed, 0.0 it/s]
2025-05-14 12:47:21 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [205.3s elapsed, 0.0 it/s]
2025-05-14 12:48:02 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [246.3s elapsed, 0.0 it/s]
2025-05-14 12:48:44 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [287.6s elapsed, 0.0 it/s]
2025-05-14 12:49:25 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [328.7s elapsed, 0.0 it/s]
2025-05-14 12:50:06 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [369.7s elapsed, 0.0 it/s]
2025-05-14 12:50:47 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [410.8s elapsed, 0.0 it/s]
2025-05-14 12:50:47 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 12:50:47 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.0s elapsed, 225.1 it/s]
2025-05-14 12:50:47 | INFO     | src.utils:update:256 | Processing iterations: 4/10 [1639.4s elapsed, 0.0 it/s]
2025-05-14 12:50:47 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 12:50:47 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 12:51:28 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [41.2s elapsed, 0.0 it/s]
2025-05-14 12:52:09 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [82.2s elapsed, 0.0 it/s]
2025-05-14 12:52:50 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [123.3s elapsed, 0.0 it/s]
2025-05-14 12:53:31 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [164.4s elapsed, 0.0 it/s]
2025-05-14 12:54:12 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [205.4s elapsed, 0.0 it/s]
2025-05-14 12:54:53 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [246.5s elapsed, 0.0 it/s]
2025-05-14 12:55:34 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [287.6s elapsed, 0.0 it/s]
2025-05-14 12:56:15 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [328.6s elapsed, 0.0 it/s]
2025-05-14 12:56:57 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [369.7s elapsed, 0.0 it/s]
2025-05-14 12:57:38 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [410.9s elapsed, 0.0 it/s]
2025-05-14 12:57:38 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 12:57:38 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.0s elapsed, 213.8 it/s]
2025-05-14 12:57:38 | INFO     | src.utils:update:256 | Processing iterations: 5/10 [2050.3s elapsed, 0.0 it/s]
2025-05-14 12:57:38 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 12:57:38 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 12:58:19 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [41.1s elapsed, 0.0 it/s]
2025-05-14 12:59:00 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [82.0s elapsed, 0.0 it/s]
2025-05-14 12:59:41 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [123.1s elapsed, 0.0 it/s]
2025-05-14 13:00:22 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [164.1s elapsed, 0.0 it/s]
2025-05-14 13:01:03 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [205.2s elapsed, 0.0 it/s]
2025-05-14 13:01:44 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [246.3s elapsed, 0.0 it/s]
2025-05-14 13:02:25 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [287.4s elapsed, 0.0 it/s]
2025-05-14 13:03:06 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [328.4s elapsed, 0.0 it/s]
2025-05-14 13:03:47 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [369.6s elapsed, 0.0 it/s]
2025-05-14 13:04:28 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [410.7s elapsed, 0.0 it/s]
2025-05-14 13:04:28 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 13:04:28 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.0s elapsed, 219.2 it/s]
2025-05-14 13:04:28 | INFO     | src.utils:update:256 | Processing iterations: 6/10 [2461.1s elapsed, 0.0 it/s]
2025-05-14 13:04:28 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 13:04:28 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 13:05:10 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [41.1s elapsed, 0.0 it/s]
2025-05-14 13:05:50 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [82.0s elapsed, 0.0 it/s]
2025-05-14 13:06:31 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [122.4s elapsed, 0.0 it/s]
2025-05-14 13:07:11 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [163.0s elapsed, 0.0 it/s]
2025-05-14 13:07:52 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [203.4s elapsed, 0.0 it/s]
2025-05-14 13:08:32 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [243.8s elapsed, 0.0 it/s]
2025-05-14 13:09:13 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [284.6s elapsed, 0.0 it/s]
2025-05-14 13:09:54 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [325.2s elapsed, 0.0 it/s]
2025-05-14 13:10:34 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [365.6s elapsed, 0.0 it/s]
2025-05-14 13:11:15 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [406.1s elapsed, 0.0 it/s]
2025-05-14 13:11:15 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 13:11:15 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.0s elapsed, 227.7 it/s]
2025-05-14 13:11:15 | INFO     | src.utils:update:256 | Processing iterations: 7/10 [2867.2s elapsed, 0.0 it/s]
2025-05-14 13:11:15 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 13:11:15 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 13:11:55 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [40.6s elapsed, 0.0 it/s]
2025-05-14 13:12:36 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [81.2s elapsed, 0.0 it/s]
2025-05-14 13:13:17 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [121.9s elapsed, 0.0 it/s]
2025-05-14 13:13:57 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [162.5s elapsed, 0.0 it/s]
2025-05-14 13:14:38 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [203.1s elapsed, 0.0 it/s]
2025-05-14 13:15:18 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [243.7s elapsed, 0.0 it/s]
2025-05-14 13:15:59 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [284.2s elapsed, 0.0 it/s]
2025-05-14 13:16:40 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [324.9s elapsed, 0.0 it/s]
2025-05-14 13:17:20 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [365.5s elapsed, 0.0 it/s]
2025-05-14 13:18:01 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [406.2s elapsed, 0.0 it/s]
2025-05-14 13:18:01 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 13:18:01 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.0s elapsed, 221.0 it/s]
2025-05-14 13:18:01 | INFO     | src.utils:update:256 | Processing iterations: 8/10 [3273.5s elapsed, 0.0 it/s]
2025-05-14 13:18:01 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 13:18:01 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 13:18:42 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [40.6s elapsed, 0.0 it/s]
2025-05-14 13:19:22 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [81.3s elapsed, 0.0 it/s]
2025-05-14 13:20:03 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [121.9s elapsed, 0.0 it/s]
2025-05-14 13:20:44 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [162.7s elapsed, 0.0 it/s]
2025-05-14 13:21:24 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [203.4s elapsed, 0.0 it/s]
2025-05-14 13:22:05 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [244.1s elapsed, 0.0 it/s]
2025-05-14 13:22:46 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [285.0s elapsed, 0.0 it/s]
2025-05-14 13:23:27 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [325.7s elapsed, 0.0 it/s]
2025-05-14 13:24:07 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [366.3s elapsed, 0.0 it/s]
2025-05-14 13:24:48 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [407.0s elapsed, 0.0 it/s]
2025-05-14 13:24:48 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 13:24:48 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.0s elapsed, 224.6 it/s]
2025-05-14 13:24:48 | INFO     | src.utils:update:256 | Processing iterations: 9/10 [3680.5s elapsed, 0.0 it/s]
2025-05-14 13:24:48 | INFO     | src.attack:__init__:75 | Initializing attacker with method: hotflip
2025-05-14 13:24:48 | INFO     | src.utils:__init__:247 | Starting Processing HotFlip queries: 0/10
2025-05-14 13:25:28 | INFO     | src.utils:update:256 | Processing HotFlip queries: 1/10 [40.5s elapsed, 0.0 it/s]
2025-05-14 13:26:09 | INFO     | src.utils:update:256 | Processing HotFlip queries: 2/10 [81.1s elapsed, 0.0 it/s]
2025-05-14 13:26:50 | INFO     | src.utils:update:256 | Processing HotFlip queries: 3/10 [122.0s elapsed, 0.0 it/s]
2025-05-14 13:27:31 | INFO     | src.utils:update:256 | Processing HotFlip queries: 4/10 [162.6s elapsed, 0.0 it/s]
2025-05-14 13:28:11 | INFO     | src.utils:update:256 | Processing HotFlip queries: 5/10 [203.1s elapsed, 0.0 it/s]
2025-05-14 13:28:52 | INFO     | src.utils:update:256 | Processing HotFlip queries: 6/10 [244.0s elapsed, 0.0 it/s]
2025-05-14 13:29:33 | INFO     | src.utils:update:256 | Processing HotFlip queries: 7/10 [284.6s elapsed, 0.0 it/s]
2025-05-14 13:30:13 | INFO     | src.utils:update:256 | Processing HotFlip queries: 8/10 [325.1s elapsed, 0.0 it/s]
2025-05-14 13:30:54 | INFO     | src.utils:update:256 | Processing HotFlip queries: 9/10 [365.7s elapsed, 0.0 it/s]
2025-05-14 13:31:34 | INFO     | src.utils:update:256 | Processing HotFlip queries: 10/10 [406.3s elapsed, 0.0 it/s]
2025-05-14 13:31:34 | INFO     | src.utils:__init__:247 | Starting Processing target queries: 0/10
2025-05-14 13:31:34 | INFO     | src.utils:update:256 | Processing target queries: 10/10 [0.0s elapsed, 219.6 it/s]
2025-05-14 13:31:34 | INFO     | src.utils:update:256 | Processing iterations: 10/10 [4086.9s elapsed, 0.0 it/s]
2025-05-14 13:31:34 | INFO     | __main__:main:382 | total_topk_num: 500
2025-05-14 13:31:34 | INFO     | __main__:main:383 | total_adv_num: 300
2025-05-14 13:31:34 | INFO     | __main__:main:391 | Success injection rate in top 5 contents: 0.60%
2025-05-14 13:31:34 | INFO     | __main__:main:404 | Using meta-llama/Llama-3.1-8B-Instruct as the LLM model
2025-05-14 13:32:14 | INFO     | __main__:timed:49 | [llm_inference_and_defense] took 35.15 seconds
2025-05-14 13:32:14 | INFO     | __main__:main:485 | Correct Answer Percentage: 81.00%
2025-05-14 13:32:14 | INFO     | __main__:main:486 | Incorrect Answer Percentage: 10.00%
2025-05-14 13:32:14 | INFO     | __main__:main:488 | Total run time for inference, removal and defense: 35.15
